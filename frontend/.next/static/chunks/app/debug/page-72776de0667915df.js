(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[670],{8571:function(e){var n,r,t,s=e.exports={};function o(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function i(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(r){try{return n.call(null,e,0)}catch(r){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:l}catch(e){r=l}}();var a=[],c=!1,u=-1;function d(){c&&t&&(c=!1,t.length?a=t.concat(a):u=-1,a.length&&h())}function h(){if(!c){var e=i(d);c=!0;for(var n=a.length;n;){for(t=a,a=[];++u<n;)t&&t[u].run();u=-1,n=a.length}t=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===l||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(n){try{return r.call(null,e)}catch(n){return r.call(this,e)}}}(e)}}function m(e,n){this.fun=e,this.array=n}function x(){}s.nextTick=function(e){var n=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];a.push(new m(e,n)),1!==a.length||c||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=x,s.addListener=x,s.once=x,s.off=x,s.removeListener=x,s.removeAllListeners=x,s.emit=x,s.prependListener=x,s.prependOnceListener=x,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}},3379:function(e,n,r){Promise.resolve().then(r.bind(r,7135))},7135:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return i}});var t=r(7821),s=r(5066),o=r(8078),l=r(8571);function i(){let{user:e,isLoading:n}=(0,s.a)(),[r,i]=(0,o.useState)({token:null,user:null,hasToken:!1,hasUser:!1});return((0,o.useEffect)(()=>{{let e=localStorage.getItem("pharmx_token"),n=localStorage.getItem("pharmx_user");i({token:e,user:n?JSON.parse(n):null,hasToken:!!e,hasUser:!!n})}},[]),n)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Debug Information"}),(0,t.jsxs)("div",{className:"grid gap-6",children:[(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Session State"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Is Loading:"})," ",n?"Yes":"No"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Has User:"})," ",e?"Yes":"No"]}),e&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("h3",{className:"font-medium",children:"User Details:"}),(0,t.jsx)("pre",{className:"bg-gray-100 p-2 rounded text-sm overflow-auto",children:JSON.stringify(e,null,2)})]})]})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Local Storage"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Has Token:"})," ",r.hasToken?"Yes":"No"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Has User:"})," ",r.hasUser?"Yes":"No"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Token Preview:"})," ",r.token||"None"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"User Email:"})," ",r.user&&"object"==typeof r.user&&"email"in r.user?r.user.email:"None"]})]})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Environment"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"API URL:"})," ",l.env.NEXT_PUBLIC_API_URL||"Not set"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Current URL:"})," ",window.location.href]})]})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Actions"}),(0,t.jsxs)("div",{className:"space-x-4",children:[(0,t.jsx)("button",{onClick:()=>{localStorage.removeItem("pharmx_token"),localStorage.removeItem("pharmx_user"),window.location.reload()},className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Clear Session"}),(0,t.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Refresh Page"})]})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Debug JSON"}),(0,t.jsx)("pre",{className:"bg-gray-100 p-4 rounded text-sm overflow-auto",children:JSON.stringify({session:{user:e,isLoading:n},localStorage:r,environment:{apiUrl:l.env.NEXT_PUBLIC_API_URL,currentUrl:window.location.href}},null,2)})]})]})]})})}},5066:function(e,n,r){"use strict";r.d(n,{SessionProvider:function(){return l},a:function(){return i}});var t=r(7821),s=r(8078);let o=(0,s.createContext)({user:null,isLoading:!0,error:null});function l(e){let{children:n}=e,[r,l]=(0,s.useState)(null),[i,a]=(0,s.useState)(!0),[c,u]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("pharmx_token"),n=localStorage.getItem("pharmx_user");if(e&&n)try{let e=JSON.parse(n);l(e)}catch(e){localStorage.removeItem("pharmx_token"),localStorage.removeItem("pharmx_user"),l(null)}else l(null)}catch(e){u(e),l(null)}finally{a(!1)}})()},[]),(0,t.jsx)(o.Provider,{value:{user:r,isLoading:i,error:c},children:n})}function i(){return(0,s.useContext)(o)}}},function(e){e.O(0,[115,364,744],function(){return e(e.s=3379)}),_N_E=e.O()}]);