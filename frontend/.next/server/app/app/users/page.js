(()=>{var e={};e.id=796,e.ids=[796],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},1751:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),a(7084),a(5839),a(5943),a(2874);var t=a(7105),r=a(5265),i=a(157),l=a.n(i),n=a(4665),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(s,o);let d=["",{children:["app",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7084)),"C:\\Users\\kasim\\pharmx-social-1\\frontend\\app\\app\\users\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,5839)),"C:\\Users\\kasim\\pharmx-social-1\\frontend\\app\\app\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,7418))).default(e),async e=>(await Promise.resolve().then(a.bind(a,9527))).default(e)],apple:[async e=>(await Promise.resolve().then(a.bind(a,9204))).default(e)],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,5943)),"C:\\Users\\kasim\\pharmx-social-1\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,2874,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,7418))).default(e),async e=>(await Promise.resolve().then(a.bind(a,9527))).default(e)],apple:[async e=>(await Promise.resolve().then(a.bind(a,9204))).default(e)],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\kasim\\pharmx-social-1\\frontend\\app\\app\\users\\page.tsx"],u="/app/users/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/app/users/page",pathname:"/app/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6340:(e,s,a)=>{Promise.resolve().then(a.bind(a,9338))},9338:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>b});var t=a(9899),r=a(6153),i=a(5507),l=a(5858),n=a(7241),o=a(6711),d=a(5636),c=a(519),u=a(2842),m=a(4767),p=a(5517);let h=(0,a(1278).Z)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);var x=a(3707),g=a(3134);function b(){let e=(0,r.useRouter)(),{toast:s}=(0,x.pm)(),[a,b]=(0,i.useState)([]),[v,f]=(0,i.useState)(!0),[y,j]=(0,i.useState)(""),[N,w]=(0,i.useState)([]),k=async(a,t)=>{t.stopPropagation();try{let t=await g.x.request(`/users/${a.id}/can-message`,{method:"POST"});if(!t.canMessage&&t.membershipRequired){let e=prompt(`Send a message to ${a.name} (Membership required for messaging):`,"Hi! I'd like to chat with you.");e&&e.trim()&&s({title:"Membership Required",description:"Upgrade to premium to send messages to other users",variant:"destructive"});return}let r=prompt(`Send a message to ${a.name}:`,"Hi! I'd like to chat with you.");if(r&&r.trim())try{await g.x.request("/chats/request",{method:"POST",body:JSON.stringify({receiverId:a.id,message:r.trim()})}),s({title:"Message sent!",description:`Your message to ${a.name} has been sent`}),e.push("/app/chats?tab=requests")}catch(t){console.error("Error sending chat request:",t);let a="Please try again later";if(t instanceof Error){if(t.message.includes("already exists")){a="You already have a chat with this person",e.push("/app/chats");return}a=t.message.includes("already sent")?"You've already sent a message to this person":t.message}s({title:"Failed to send message",description:a,variant:"destructive"})}}catch(e){console.error("Error checking message permissions:",e),s({title:"Error",description:"Failed to process your request",variant:"destructive"})}},P=e=>{try{let s=new Date(e),a=new Date,t=a.getFullYear()-s.getFullYear(),r=a.getMonth()-s.getMonth();return(r<0||0===r&&a.getDate()<s.getDate())&&t--,t>0?t:null}catch{return null}};return v?t.jsx("div",{className:"container max-w-6xl mx-auto px-2 sm:px-4 py-4",children:t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-3",children:[...Array(8)].map((e,s)=>t.jsx(l.Zb,{className:"overflow-hidden animate-pulse",children:t.jsx("div",{className:"aspect-[3/4] bg-gray-200 dark:bg-gray-800"})},s))})}):(0,t.jsxs)("div",{className:"container max-w-6xl mx-auto px-2 sm:px-4 py-4",children:[(0,t.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,t.jsxs)("div",{className:"relative",children:[t.jsx(c.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(o.I,{placeholder:"Search users by name, bio, or location...",value:y,onChange:e=>j(e.target.value),className:"pl-10 pr-10"}),t.jsx(n.z,{size:"icon",variant:"ghost",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",children:t.jsx(u.Z,{className:"h-4 w-4"})})]}),y&&(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Found ",N.length," user",1!==N.length?"s":"",' matching "',y,'"']})]}),N.length>0?t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-3",children:N.map(e=>{let s=e.created_at?P(e.created_at):null;return t.jsx(l.Zb,{className:"overflow-hidden group hover:shadow-xl transition-all duration-300 border-0",children:(0,t.jsxs)("div",{className:"relative aspect-[3/4]",children:[t.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:e.avatar_url?`url(${e.avatar_url.startsWith("http")?e.avatar_url:`https://pharmx-api.kasimhussain333.workers.dev${e.avatar_url}`})`:"none",backgroundColor:e.avatar_url?"transparent":"#f3f4f6"},children:!e.avatar_url&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx(d.qE,{className:"h-16 w-16",children:t.jsx(d.Q5,{className:"text-2xl bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:e.name?.charAt(0)?.toUpperCase()||"?"})})})}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/80"}),(0,t.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-3 flex items-center justify-between text-white",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx("h3",{className:"font-bold text-lg",children:e.name}),s&&t.jsx("span",{className:"text-lg opacity-90",children:s})]}),t.jsx(n.z,{size:"sm",className:"h-8 w-8 bg-white/20 backdrop-blur-sm hover:bg-white/30 border-0 text-white",onClick:s=>k(e,s),children:t.jsx(m.Z,{className:"h-3.5 w-3.5"})})]}),e.verified&&t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx(p.Z,{className:"h-5 w-5 text-blue-400"})})]})},e.id)})}):(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:t.jsx(c.Z,{className:"h-8 w-8 text-gray-400"})}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"No users found"}),t.jsx("p",{className:"text-muted-foreground",children:y?`No users match "${y}"`:"No users available at the moment"}),y&&t.jsx(n.z,{variant:"outline",onClick:()=>j(""),className:"mt-4",children:"Clear search"})]}),t.jsx("div",{className:"mt-8 text-center",children:(0,t.jsxs)(l.Zb,{className:"p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20 border-blue-200 dark:border-blue-800",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[t.jsx(h,{className:"h-5 w-5 text-yellow-600"}),t.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Premium Feature"})]}),t.jsx("p",{className:"text-blue-700 dark:text-blue-300 text-sm",children:"Upgrade to premium to send messages to other users and unlock unlimited connections"})]})})]})}},4767:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(1278).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},5517:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(1278).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},4175:(e,s,a)=>{"use strict";a.d(s,{default:()=>r.a});var t=a(696),r=a.n(t)},7084:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(2772).createProxy)(String.raw`C:\Users\kasim\pharmx-social-1\frontend\app\app\users\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[916,573,645,696,101,141],()=>a(1751));module.exports=t})();