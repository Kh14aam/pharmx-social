(()=>{var e={};e.id=547,e.ids=[547],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},406:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(6864),r(5839),r(5943),r(2874);var a=r(7105),n=r(5265),s=r(157),o=r.n(s),i=r(4665),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["app",{children:["chats",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6864)),"C:\\Users\\kasim\\pharmx-social-1\\frontend\\app\\app\\chats\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5839)),"C:\\Users\\kasim\\pharmx-social-1\\frontend\\app\\app\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7418))).default(e),async e=>(await Promise.resolve().then(r.bind(r,9527))).default(e)],apple:[async e=>(await Promise.resolve().then(r.bind(r,9204))).default(e)],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,5943)),"C:\\Users\\kasim\\pharmx-social-1\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,2874,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7418))).default(e),async e=>(await Promise.resolve().then(r.bind(r,9527))).default(e)],apple:[async e=>(await Promise.resolve().then(r.bind(r,9204))).default(e)],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\kasim\\pharmx-social-1\\frontend\\app\\app\\chats\\page.tsx"],u="/app/chats/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/app/chats/page",pathname:"/app/chats",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7325:(e,t,r)=>{Promise.resolve().then(r.bind(r,5474))},5474:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>tP});var a=r(9899),n=r(5507),s=r(5858),o=r(7241),i=r(5636),l=r(6711),d=r(8762),c=r(9932),u=r(4076),m=r(9639),p=r(7738),f=r(1809),x=r(165),h=r(5626),g=r(518),v=r(9290),b=r(2900),j=r(4056),y=r(2566),w=r(4290),N=r(5718),k=r(4036),M=r(3122),C=r(1452),_=r(2293),R=["Enter"," "],P=["ArrowUp","PageDown","End"],D=["ArrowDown","PageUp","Home",...P],E={ltr:[...R,"ArrowRight"],rtl:[...R,"ArrowLeft"]},S={ltr:["ArrowLeft"],rtl:["ArrowRight"]},T="Menu",[I,F,A]=(0,f.B)(T),[q,O]=(0,u.b)(T,[A,j.D7,N.Pc]),z=(0,j.D7)(),L=(0,N.Pc)(),[K,V]=q(T),[Z,$]=q(T),G=e=>{let{__scopeMenu:t,open:r=!1,children:s,dir:o,onOpenChange:i,modal:l=!0}=e,d=z(t),[c,u]=n.useState(null),m=n.useRef(!1),p=(0,M.W)(i),f=(0,x.gm)(o);return n.useEffect(()=>{let e=()=>{m.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>m.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,a.jsx)(j.fC,{...d,children:(0,a.jsx)(K,{scope:t,open:r,onOpenChange:p,content:c,onContentChange:u,children:(0,a.jsx)(Z,{scope:t,onClose:n.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:m,dir:f,modal:l,children:s})})})};G.displayName=T;var U=n.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,s=z(r);return(0,a.jsx)(j.ee,{...s,...n,ref:t})});U.displayName="MenuAnchor";var W="MenuPortal",[B,X]=q(W,{forceMount:void 0}),Y=e=>{let{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=V(W,t);return(0,a.jsx)(B,{scope:t,forceMount:r,children:(0,a.jsx)(w.z,{present:r||o.open,children:(0,a.jsx)(y.h,{asChild:!0,container:s,children:n})})})};Y.displayName=W;var H="MenuContent",[Q,J]=q(H),ee=n.forwardRef((e,t)=>{let r=X(H,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=V(H,e.__scopeMenu),i=$(H,e.__scopeMenu);return(0,a.jsx)(I.Provider,{scope:e.__scopeMenu,children:(0,a.jsx)(w.z,{present:n||o.open,children:(0,a.jsx)(I.Slot,{scope:e.__scopeMenu,children:i.modal?(0,a.jsx)(et,{...s,ref:t}):(0,a.jsx)(er,{...s,ref:t})})})})}),et=n.forwardRef((e,t)=>{let r=V(H,e.__scopeMenu),s=n.useRef(null),o=(0,c.e)(t,s);return n.useEffect(()=>{let e=s.current;if(e)return(0,C.Ry)(e)},[]),(0,a.jsx)(en,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:(0,d.Mj)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),er=n.forwardRef((e,t)=>{let r=V(H,e.__scopeMenu);return(0,a.jsx)(en,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),ea=(0,k.Z8)("MenuContent.ScrollLock"),en=n.forwardRef((e,t)=>{let{__scopeMenu:r,loop:s=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:m,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:x,onInteractOutside:b,onDismiss:y,disableOutsideScroll:w,...k}=e,M=V(H,r),C=$(H,r),R=z(r),E=L(r),S=F(r),[T,I]=n.useState(null),A=n.useRef(null),q=(0,c.e)(t,A,M.onContentChange),O=n.useRef(0),K=n.useRef(""),Z=n.useRef(0),G=n.useRef(null),U=n.useRef("right"),W=n.useRef(0),B=w?_.Z:n.Fragment,X=e=>{let t=K.current+e,r=S().filter(e=>!e.disabled),a=document.activeElement,n=r.find(e=>e.ref.current===a)?.textValue,s=function(e,t,r){var a;let n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,s=(a=Math.max(r?e.indexOf(r):-1,0),e.map((t,r)=>e[(a+r)%e.length]));1===n.length&&(s=s.filter(e=>e!==r));let o=s.find(e=>e.toLowerCase().startsWith(n.toLowerCase()));return o!==r?o:void 0}(r.map(e=>e.textValue),t,n),o=r.find(e=>e.textValue===s)?.ref.current;(function e(t){K.current=t,window.clearTimeout(O.current),""!==t&&(O.current=window.setTimeout(()=>e(""),1e3))})(t),o&&setTimeout(()=>o.focus())};n.useEffect(()=>()=>window.clearTimeout(O.current),[]),(0,g.EW)();let Y=n.useCallback(e=>U.current===G.current?.side&&function(e,t){return!!t&&function(e,t){let{x:r,y:a}=e,n=!1;for(let e=0,s=t.length-1;e<t.length;s=e++){let o=t[e],i=t[s],l=o.x,d=o.y,c=i.x,u=i.y;d>a!=u>a&&r<(c-l)*(a-d)/(u-d)+l&&(n=!n)}return n}({x:e.clientX,y:e.clientY},t)}(e,G.current?.area),[]);return(0,a.jsx)(Q,{scope:r,searchRef:K,onItemEnter:n.useCallback(e=>{Y(e)&&e.preventDefault()},[Y]),onItemLeave:n.useCallback(e=>{Y(e)||(A.current?.focus(),I(null))},[Y]),onTriggerLeave:n.useCallback(e=>{Y(e)&&e.preventDefault()},[Y]),pointerGraceTimerRef:Z,onPointerGraceIntentChange:n.useCallback(e=>{G.current=e},[]),children:(0,a.jsx)(B,{...w?{as:ea,allowPinchZoom:!0}:void 0,children:(0,a.jsx)(v.M,{asChild:!0,trapped:o,onMountAutoFocus:(0,d.Mj)(i,e=>{e.preventDefault(),A.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:(0,a.jsx)(h.XB,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:x,onInteractOutside:b,onDismiss:y,children:(0,a.jsx)(N.fC,{asChild:!0,...E,dir:C.dir,orientation:"vertical",loop:s,currentTabStopId:T,onCurrentTabStopIdChange:I,onEntryFocus:(0,d.Mj)(m,e=>{C.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,a.jsx)(j.VY,{role:"menu","aria-orientation":"vertical","data-state":eD(M.open),"data-radix-menu-content":"",dir:C.dir,...R,...k,ref:q,style:{outline:"none",...k.style},onKeyDown:(0,d.Mj)(k.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,a=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!r&&a&&X(e.key));let n=A.current;if(e.target!==n||!D.includes(e.key))return;e.preventDefault();let s=S().filter(e=>!e.disabled).map(e=>e.ref.current);P.includes(e.key)&&s.reverse(),function(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}(s)}),onBlur:(0,d.Mj)(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(O.current),K.current="")}),onPointerMove:(0,d.Mj)(e.onPointerMove,eT(e=>{let t=e.target,r=W.current!==e.clientX;if(e.currentTarget.contains(t)&&r){let t=e.clientX>W.current?"right":"left";U.current=t,W.current=e.clientX}}))})})})})})})});ee.displayName=H;var es=n.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,a.jsx)(p.WV.div,{role:"group",...n,ref:t})});es.displayName="MenuGroup";var eo=n.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,a.jsx)(p.WV.div,{...n,ref:t})});eo.displayName="MenuLabel";var ei="MenuItem",el="menu.itemSelect",ed=n.forwardRef((e,t)=>{let{disabled:r=!1,onSelect:s,...o}=e,i=n.useRef(null),l=$(ei,e.__scopeMenu),u=J(ei,e.__scopeMenu),m=(0,c.e)(t,i),f=n.useRef(!1);return(0,a.jsx)(ec,{...o,ref:m,disabled:r,onClick:(0,d.Mj)(e.onClick,()=>{let e=i.current;if(!r&&e){let t=new CustomEvent(el,{bubbles:!0,cancelable:!0});e.addEventListener(el,e=>s?.(e),{once:!0}),(0,p.jH)(e,t),t.defaultPrevented?f.current=!1:l.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),f.current=!0},onPointerUp:(0,d.Mj)(e.onPointerUp,e=>{f.current||e.currentTarget?.click()}),onKeyDown:(0,d.Mj)(e.onKeyDown,e=>{let t=""!==u.searchRef.current;!r&&(!t||" "!==e.key)&&R.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});ed.displayName=ei;var ec=n.forwardRef((e,t)=>{let{__scopeMenu:r,disabled:s=!1,textValue:o,...i}=e,l=J(ei,r),u=L(r),m=n.useRef(null),f=(0,c.e)(t,m),[x,h]=n.useState(!1),[g,v]=n.useState("");return n.useEffect(()=>{let e=m.current;e&&v((e.textContent??"").trim())},[i.children]),(0,a.jsx)(I.ItemSlot,{scope:r,disabled:s,textValue:o??g,children:(0,a.jsx)(N.ck,{asChild:!0,...u,focusable:!s,children:(0,a.jsx)(p.WV.div,{role:"menuitem","data-highlighted":x?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:f,onPointerMove:(0,d.Mj)(e.onPointerMove,eT(e=>{s?l.onItemLeave(e):(l.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:(0,d.Mj)(e.onPointerLeave,eT(e=>l.onItemLeave(e))),onFocus:(0,d.Mj)(e.onFocus,()=>h(!0)),onBlur:(0,d.Mj)(e.onBlur,()=>h(!1))})})})}),eu=n.forwardRef((e,t)=>{let{checked:r=!1,onCheckedChange:n,...s}=e;return(0,a.jsx)(eb,{scope:e.__scopeMenu,checked:r,children:(0,a.jsx)(ed,{role:"menuitemcheckbox","aria-checked":eE(r)?"mixed":r,...s,ref:t,"data-state":eS(r),onSelect:(0,d.Mj)(s.onSelect,()=>n?.(!!eE(r)||!r),{checkForDefaultPrevented:!1})})})});eu.displayName="MenuCheckboxItem";var em="MenuRadioGroup",[ep,ef]=q(em,{value:void 0,onValueChange:()=>{}}),ex=n.forwardRef((e,t)=>{let{value:r,onValueChange:n,...s}=e,o=(0,M.W)(n);return(0,a.jsx)(ep,{scope:e.__scopeMenu,value:r,onValueChange:o,children:(0,a.jsx)(es,{...s,ref:t})})});ex.displayName=em;var eh="MenuRadioItem",eg=n.forwardRef((e,t)=>{let{value:r,...n}=e,s=ef(eh,e.__scopeMenu),o=r===s.value;return(0,a.jsx)(eb,{scope:e.__scopeMenu,checked:o,children:(0,a.jsx)(ed,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":eS(o),onSelect:(0,d.Mj)(n.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});eg.displayName=eh;var ev="MenuItemIndicator",[eb,ej]=q(ev,{checked:!1}),ey=n.forwardRef((e,t)=>{let{__scopeMenu:r,forceMount:n,...s}=e,o=ej(ev,r);return(0,a.jsx)(w.z,{present:n||eE(o.checked)||!0===o.checked,children:(0,a.jsx)(p.WV.span,{...s,ref:t,"data-state":eS(o.checked)})})});ey.displayName=ev;var ew=n.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,a.jsx)(p.WV.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});ew.displayName="MenuSeparator";var eN=n.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,s=z(r);return(0,a.jsx)(j.Eh,{...s,...n,ref:t})});eN.displayName="MenuArrow";var[ek,eM]=q("MenuSub"),eC="MenuSubTrigger",e_=n.forwardRef((e,t)=>{let r=V(eC,e.__scopeMenu),s=$(eC,e.__scopeMenu),o=eM(eC,e.__scopeMenu),i=J(eC,e.__scopeMenu),l=n.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:m}=i,p={__scopeMenu:e.__scopeMenu},f=n.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return n.useEffect(()=>f,[f]),n.useEffect(()=>{let e=u.current;return()=>{window.clearTimeout(e),m(null)}},[u,m]),(0,a.jsx)(U,{asChild:!0,...p,children:(0,a.jsx)(ec,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":eD(r.open),...e,ref:(0,c.F)(t,o.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:(0,d.Mj)(e.onPointerMove,eT(t=>{i.onItemEnter(t),t.defaultPrevented||e.disabled||r.open||l.current||(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:(0,d.Mj)(e.onPointerLeave,eT(e=>{f();let t=r.content?.getBoundingClientRect();if(t){let a=r.content?.dataset.side,n="right"===a,s=t[n?"left":"right"],o=t[n?"right":"left"];i.onPointerGraceIntentChange({area:[{x:e.clientX+(n?-5:5),y:e.clientY},{x:s,y:t.top},{x:o,y:t.top},{x:o,y:t.bottom},{x:s,y:t.bottom}],side:a}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(e),e.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:(0,d.Mj)(e.onKeyDown,t=>{let a=""!==i.searchRef.current;!e.disabled&&(!a||" "!==t.key)&&E[s.dir].includes(t.key)&&(r.onOpenChange(!0),r.content?.focus(),t.preventDefault())})})})});e_.displayName=eC;var eR="MenuSubContent",eP=n.forwardRef((e,t)=>{let r=X(H,e.__scopeMenu),{forceMount:s=r.forceMount,...o}=e,i=V(H,e.__scopeMenu),l=$(H,e.__scopeMenu),u=eM(eR,e.__scopeMenu),m=n.useRef(null),p=(0,c.e)(t,m);return(0,a.jsx)(I.Provider,{scope:e.__scopeMenu,children:(0,a.jsx)(w.z,{present:s||i.open,children:(0,a.jsx)(I.Slot,{scope:e.__scopeMenu,children:(0,a.jsx)(en,{id:u.contentId,"aria-labelledby":u.triggerId,...o,ref:p,align:"start",side:"rtl"===l.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{l.isUsingKeyboardRef.current&&m.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,d.Mj)(e.onFocusOutside,e=>{e.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:(0,d.Mj)(e.onEscapeKeyDown,e=>{l.onClose(),e.preventDefault()}),onKeyDown:(0,d.Mj)(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),r=S[l.dir].includes(e.key);t&&r&&(i.onOpenChange(!1),u.trigger?.focus(),e.preventDefault())})})})})})});function eD(e){return e?"open":"closed"}function eE(e){return"indeterminate"===e}function eS(e){return eE(e)?"indeterminate":e?"checked":"unchecked"}function eT(e){return t=>"mouse"===t.pointerType?e(t):void 0}eP.displayName=eR;var eI="DropdownMenu",[eF,eA]=(0,u.b)(eI,[O]),eq=O(),[eO,ez]=eF(eI),eL=e=>{let{__scopeDropdownMenu:t,children:r,dir:s,open:o,defaultOpen:i,onOpenChange:l,modal:d=!0}=e,c=eq(t),u=n.useRef(null),[p,f]=(0,m.T)({prop:o,defaultProp:i??!1,onChange:l,caller:eI});return(0,a.jsx)(eO,{scope:t,triggerId:(0,b.M)(),triggerRef:u,contentId:(0,b.M)(),open:p,onOpenChange:f,onOpenToggle:n.useCallback(()=>f(e=>!e),[f]),modal:d,children:(0,a.jsx)(G,{...c,open:p,onOpenChange:f,dir:s,modal:d,children:r})})};eL.displayName=eI;var eK="DropdownMenuTrigger",eV=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,o=ez(eK,r),i=eq(r);return(0,a.jsx)(U,{asChild:!0,...i,children:(0,a.jsx)(p.WV.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:(0,c.F)(t,o.triggerRef),onPointerDown:(0,d.Mj)(e.onPointerDown,e=>{n||0!==e.button||!1!==e.ctrlKey||(o.onOpenToggle(),o.open||e.preventDefault())}),onKeyDown:(0,d.Mj)(e.onKeyDown,e=>{!n&&(["Enter"," "].includes(e.key)&&o.onOpenToggle(),"ArrowDown"===e.key&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});eV.displayName=eK;var eZ=e=>{let{__scopeDropdownMenu:t,...r}=e,n=eq(t);return(0,a.jsx)(Y,{...n,...r})};eZ.displayName="DropdownMenuPortal";var e$="DropdownMenuContent",eG=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...s}=e,o=ez(e$,r),i=eq(r),l=n.useRef(!1);return(0,a.jsx)(ee,{id:o.contentId,"aria-labelledby":o.triggerId,...i,...s,ref:t,onCloseAutoFocus:(0,d.Mj)(e.onCloseAutoFocus,e=>{l.current||o.triggerRef.current?.focus(),l.current=!1,e.preventDefault()}),onInteractOutside:(0,d.Mj)(e.onInteractOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,a=2===t.button||r;(!o.modal||a)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eG.displayName=e$,n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=eq(r);return(0,a.jsx)(es,{...s,...n,ref:t})}).displayName="DropdownMenuGroup";var eU=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=eq(r);return(0,a.jsx)(eo,{...s,...n,ref:t})});eU.displayName="DropdownMenuLabel";var eW=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=eq(r);return(0,a.jsx)(ed,{...s,...n,ref:t})});eW.displayName="DropdownMenuItem";var eB=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=eq(r);return(0,a.jsx)(eu,{...s,...n,ref:t})});eB.displayName="DropdownMenuCheckboxItem",n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=eq(r);return(0,a.jsx)(ex,{...s,...n,ref:t})}).displayName="DropdownMenuRadioGroup";var eX=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=eq(r);return(0,a.jsx)(eg,{...s,...n,ref:t})});eX.displayName="DropdownMenuRadioItem";var eY=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=eq(r);return(0,a.jsx)(ey,{...s,...n,ref:t})});eY.displayName="DropdownMenuItemIndicator";var eH=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=eq(r);return(0,a.jsx)(ew,{...s,...n,ref:t})});eH.displayName="DropdownMenuSeparator",n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=eq(r);return(0,a.jsx)(eN,{...s,...n,ref:t})}).displayName="DropdownMenuArrow";var eQ=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=eq(r);return(0,a.jsx)(e_,{...s,...n,ref:t})});eQ.displayName="DropdownMenuSubTrigger";var eJ=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=eq(r);return(0,a.jsx)(eP,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eJ.displayName="DropdownMenuSubContent";var e0=r(2681),e1=r(5359),e2=r(8443),e5=r(6409);n.forwardRef(({className:e,inset:t,children:r,...n},s)=>(0,a.jsxs)(eQ,{ref:s,className:(0,e5.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,a.jsx(e0.Z,{className:"ml-auto"})]})).displayName=eQ.displayName,n.forwardRef(({className:e,...t},r)=>a.jsx(eJ,{ref:r,className:(0,e5.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t})).displayName=eJ.displayName;let e4=n.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(eZ,{children:a.jsx(eG,{ref:n,sideOffset:t,className:(0,e5.cn)("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));e4.displayName=eG.displayName;let e9=n.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(eW,{ref:n,className:(0,e5.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...r}));e9.displayName=eW.displayName,n.forwardRef(({className:e,children:t,checked:r,...n},s)=>(0,a.jsxs)(eB,{ref:s,className:(0,e5.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(eY,{children:a.jsx(e1.Z,{className:"h-4 w-4"})})}),t]})).displayName=eB.displayName,n.forwardRef(({className:e,children:t,...r},n)=>(0,a.jsxs)(eX,{ref:n,className:(0,e5.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(eY,{children:a.jsx(e2.Z,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=eX.displayName,n.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(eU,{ref:n,className:(0,e5.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r})).displayName=eU.displayName,n.forwardRef(({className:e,...t},r)=>a.jsx(eH,{ref:r,className:(0,e5.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=eH.displayName;var e3=r(519),e8=r(2842),e6=r(1278);let e7=(0,e6.Z)("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);var te=r(4767);let tt=(0,e6.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var tr=r(2188);let ta=(0,e6.Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),tn=(0,e6.Z)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),ts=(0,e6.Z)("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),to=(0,e6.Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var ti="Tabs",[tl,td]=(0,u.b)(ti,[N.Pc]),tc=(0,N.Pc)(),[tu,tm]=tl(ti),tp=n.forwardRef((e,t)=>{let{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:d="automatic",...c}=e,u=(0,x.gm)(l),[f,h]=(0,m.T)({prop:n,onChange:s,defaultProp:o??"",caller:ti});return(0,a.jsx)(tu,{scope:r,baseId:(0,b.M)(),value:f,onValueChange:h,orientation:i,dir:u,activationMode:d,children:(0,a.jsx)(p.WV.div,{dir:u,"data-orientation":i,...c,ref:t})})});tp.displayName=ti;var tf="TabsList",tx=n.forwardRef((e,t)=>{let{__scopeTabs:r,loop:n=!0,...s}=e,o=tm(tf,r),i=tc(r);return(0,a.jsx)(N.fC,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:(0,a.jsx)(p.WV.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});tx.displayName=tf;var th="TabsTrigger",tg=n.forwardRef((e,t)=>{let{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=tm(th,r),l=tc(r),c=tj(i.baseId,n),u=ty(i.baseId,n),m=n===i.value;return(0,a.jsx)(N.ck,{asChild:!0,...l,focusable:!s,active:m,children:(0,a.jsx)(p.WV.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":u,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:(0,d.Mj)(e.onMouseDown,e=>{s||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(n)}),onKeyDown:(0,d.Mj)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(n)}),onFocus:(0,d.Mj)(e.onFocus,()=>{let e="manual"!==i.activationMode;m||s||!e||i.onValueChange(n)})})})});tg.displayName=th;var tv="TabsContent",tb=n.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,forceMount:o,children:i,...l}=e,d=tm(tv,r),c=tj(d.baseId,s),u=ty(d.baseId,s),m=s===d.value,f=n.useRef(m);return n.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(w.z,{present:o||m,children:({present:r})=>(0,a.jsx)(p.WV.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":c,hidden:!r,id:u,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:r&&i})})});function tj(e,t){return`${e}-trigger-${t}`}function ty(e,t){return`${e}-content-${t}`}tb.displayName=tv;let tw=n.forwardRef(({className:e,...t},r)=>a.jsx(tx,{ref:r,className:(0,e5.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));tw.displayName=tx.displayName;let tN=n.forwardRef(({className:e,...t},r)=>a.jsx(tg,{ref:r,className:(0,e5.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));tN.displayName=tg.displayName;let tk=n.forwardRef(({className:e,...t},r)=>a.jsx(tb,{ref:r,className:(0,e5.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));tk.displayName=tb.displayName;var tM=r(6153),tC=r(3707),t_=r(3134);function tR(){let[e,t]=(0,n.useState)(null),[r,d]=(0,n.useState)(""),[c,u]=(0,n.useState)([]),[m,p]=(0,n.useState)([]),[f,x]=(0,n.useState)([]),[h,g]=(0,n.useState)(!0),[v,b]=(0,n.useState)(null),j=(0,tM.useSearchParams)(),{toast:y}=(0,tC.pm)(),w=async()=>{try{g(!0);let e=await t_.x.request("/chats?tab=messages");p(e.chats||[]);let t=await t_.x.request("/chats?tab=requests");u(t.requests||[])}catch(e){console.error("Error loading chats:",e),y({title:"Error loading chats",description:"Failed to load your conversations",variant:"destructive"})}finally{g(!1)}},N=async e=>{try{let t=await t_.x.request(`/chats/${e}`);b(t.chat),x(t.messages||[])}catch(e){console.error("Error loading messages:",e),y({title:"Error",description:"Failed to load messages",variant:"destructive"})}},k=async e=>{t(e),await N(e)},M=async e=>{try{let t=await t_.x.request(`/chats/request/${e}/accept`,{method:"POST"});y({title:"Request accepted!",description:"You can now chat with this person"}),await w(),t.chatId&&await k(t.chatId)}catch(e){console.error("Error accepting request:",e),y({title:"Error",description:"Failed to accept request",variant:"destructive"})}},C=async e=>{try{await t_.x.request(`/chats/request/${e}/decline`,{method:"POST"}),y({title:"Request declined",description:"The chat request has been declined"}),await w()}catch(e){console.error("Error declining request:",e),y({title:"Error",description:"Failed to decline request",variant:"destructive"})}},_=async()=>{if(r.trim()&&e)try{let t=await t_.x.request(`/chats/${e}/messages`,{method:"POST",body:JSON.stringify({content:r.trim()})});x(e=>[...e,t.message]),d(""),p(t=>t.map(t=>t.id===e?{...t,last_message:r.trim(),unread_count:0}:t))}catch(e){console.error("Error sending message:",e),y({title:"Error",description:"Failed to send message",variant:"destructive"})}},R=e=>{let t=new Date(e),r=(new Date().getTime()-t.getTime())/36e5;return r<1||r<24?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):r<48?"Yesterday":t.toLocaleDateString([],{month:"short",day:"numeric"})},P=()=>{let e=localStorage.getItem("pharmx_user");if(e){let t=JSON.parse(e);return t.sub||t.id}return null},D=null!==e,E=j.get("tab")||"chats";return(0,a.jsxs)("div",{className:"h-full flex bg-background",children:[a.jsx("div",{className:`${D?"hidden md:flex":"flex"} flex-col w-full md:w-[380px] border-r bg-muted/30`,children:(0,a.jsxs)(tp,{defaultValue:E,className:"flex-1 flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 space-y-3 border-b bg-background",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(e3.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(l.I,{placeholder:"Search conversations...",className:"pl-9 pr-9 bg-muted/50 border-0 focus-visible:ring-1"}),a.jsx(o.z,{size:"icon",variant:"ghost",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",children:a.jsx(e8.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)(tw,{className:"grid w-full grid-cols-2 bg-muted/50",children:[(0,a.jsxs)(tN,{value:"chats",className:"data-[state=active]:bg-background",children:["Messages",m.filter(e=>e.unread_count>0).length>0&&a.jsx("div",{className:"ml-2 h-5 w-5 bg-primary text-primary-foreground rounded-full text-xs flex items-center justify-center",children:m.reduce((e,t)=>e+t.unread_count,0)})]}),(0,a.jsxs)(tN,{value:"requests",className:"data-[state=active]:bg-background",children:["Requests",c.length>0&&a.jsx("div",{className:"ml-2 h-5 w-5 bg-orange-500 text-white rounded-full text-xs flex items-center justify-center",children:c.length})]})]})]}),a.jsx(tk,{value:"chats",className:"flex-1 overflow-y-auto m-0 px-2",children:a.jsx("div",{className:"space-y-1 py-2",children:h?Array.from({length:3}).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center p-3 rounded-xl animate-pulse",children:[a.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-full"}),(0,a.jsxs)("div",{className:"flex-1 ml-3 space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},t)):m.length>0?m.map(t=>(0,a.jsxs)("div",{className:`flex items-center p-3 rounded-xl cursor-pointer transition-all ${e===t.id?"bg-primary/10 hover:bg-primary/15":"hover:bg-muted/50"}`,onClick:()=>k(t.id),children:[a.jsx("div",{className:"relative",children:(0,a.jsxs)(i.qE,{className:"h-12 w-12 ring-2 ring-background",children:[a.jsx(i.F$,{src:t.partner_avatar||`https://api.dicebear.com/7.x/initials/svg?seed=${t.partner_name}`}),a.jsx(i.Q5,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:t.partner_name?.split(" ").map(e=>e[0]).join("")||"?"})]})}),(0,a.jsxs)("div",{className:"flex-1 ml-3 min-w-0",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[a.jsx("h3",{className:"font-semibold truncate",children:t.partner_name}),a.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:t.last_message_time?R(t.last_message_time):""})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-0.5",children:[0===t.unread_count&&e!==t.id&&a.jsx(e7,{className:"h-3 w-3 text-blue-500"}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:t.last_message||"No messages yet"})]})]}),t.unread_count>0&&a.jsx("div",{className:"ml-2 h-6 w-6 bg-primary text-primary-foreground rounded-full text-xs font-medium flex items-center justify-center",children:t.unread_count})]},t.id)):(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(te.Z,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No conversations yet"}),a.jsx("p",{className:"text-sm",children:"Start chatting with someone!"})]})})}),a.jsx(tk,{value:"requests",className:"flex-1 overflow-y-auto m-0 p-4 space-y-3",children:h?Array.from({length:2}).map((e,t)=>a.jsx(s.Zb,{className:"p-4 animate-pulse",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"h-11 w-11 bg-gray-200 rounded-full"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]})},t)):c.length>0?c.map(e=>a.jsx(s.Zb,{className:"p-4 bg-gradient-to-r from-orange-50 to-orange-100/50 dark:from-orange-950/20 dark:to-orange-900/10 border-orange-200 dark:border-orange-800",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsxs)(i.qE,{className:"h-11 w-11 ring-2 ring-orange-200 dark:ring-orange-800",children:[a.jsx(i.F$,{src:e.sender_avatar||`https://api.dicebear.com/7.x/initials/svg?seed=${e.sender_name}`}),a.jsx(i.Q5,{className:"bg-gradient-to-br from-orange-400 to-orange-600 text-white",children:e.sender_name?.split(" ").map(e=>e[0]).join("")||"?"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"font-semibold",children:e.sender_name}),a.jsx("span",{className:"text-xs text-muted-foreground",children:R(e.created_at)})]}),e.message&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1 leading-relaxed",children:e.message}),(0,a.jsxs)("div",{className:"flex gap-2 mt-3",children:[a.jsx(o.z,{size:"sm",className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white",onClick:()=>M(e.id),children:"Accept"}),a.jsx(o.z,{size:"sm",variant:"ghost",className:"hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-950 dark:hover:text-red-400",onClick:()=>C(e.id),children:"Decline"})]})]})]})},e.id)):(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(te.Z,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No chat requests"}),a.jsx("p",{className:"text-sm",children:"People you connect with will appear here"})]})})]})}),e&&v?(0,a.jsxs)("div",{className:"flex-1 flex flex-col bg-background",children:[(0,a.jsxs)("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 px-4 py-3 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(o.z,{variant:"ghost",size:"icon",className:"md:hidden mr-2 h-8 w-8",onClick:()=>t(null),children:a.jsx(tt,{className:"h-5 w-5"})}),(0,a.jsxs)(i.qE,{className:"h-10 w-10 mr-3 ring-2 ring-background",children:[a.jsx(i.F$,{src:v.partner.avatarUrl||`https://api.dicebear.com/7.x/initials/svg?seed=${v.partner.name}`}),a.jsx(i.Q5,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:v.partner.name?.split(" ").map(e=>e[0]).join("")||"?"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold",children:v.partner.name}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Active now"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(o.z,{size:"icon",variant:"ghost",className:"h-9 w-9 rounded-full",onClick:()=>{y({title:"Voice call",description:"Voice calling feature coming soon!"})},children:a.jsx(tr.Z,{className:"h-4 w-4"})}),(0,a.jsxs)(eL,{children:[a.jsx(eV,{asChild:!0,children:a.jsx(o.z,{size:"icon",variant:"ghost",className:"h-9 w-9 rounded-full",children:a.jsx(ta,{className:"h-4 w-4"})})}),(0,a.jsxs)(e4,{align:"end",children:[a.jsx(e9,{onClick:()=>{y({title:"User blocked",description:"This feature will be implemented soon"})},children:"Block"}),a.jsx(e9,{onClick:()=>{y({title:"User reported",description:"This feature will be implemented soon"})},children:"Report"})]})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-muted/20",children:a.jsx("div",{className:"max-w-3xl mx-auto space-y-3",children:f.length>0?f.map((e,t)=>{let r=P(),n=e.sender_id===r,s=t>0?f[t-1]:null,o=!n&&(!s||s.sender_id!==e.sender_id);return(0,a.jsxs)("div",{className:`flex items-end gap-2 ${n?"justify-end":"justify-start"}`,children:[o&&(0,a.jsxs)(i.qE,{className:"h-8 w-8 mb-1",children:[a.jsx(i.F$,{src:e.sender_avatar||`https://api.dicebear.com/7.x/initials/svg?seed=${e.sender_name}`}),a.jsx(i.Q5,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white text-xs",children:e.sender_name?.split(" ").map(e=>e[0]).join("")||"?"})]}),!n&&!o&&a.jsx("div",{className:"w-8"}),(0,a.jsxs)("div",{className:`group relative max-w-[70%] ${n?"items-end":"items-start"}`,children:[a.jsx("div",{className:`rounded-2xl px-4 py-2.5 ${n?"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-br-sm":"bg-background border rounded-bl-sm shadow-sm"}`,children:a.jsx("p",{className:"text-sm leading-relaxed",children:e.content})}),(0,a.jsxs)("div",{className:`flex items-center gap-1.5 mt-1 px-1 ${n?"justify-end":"justify-start"}`,children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:R(e.created_at)}),n&&(e.read_at?a.jsx(e7,{className:"h-3.5 w-3.5 text-blue-500"}):a.jsx(e1.Z,{className:"h-3.5 w-3.5 text-muted-foreground"}))]})]})]},e.id)}):(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(te.Z,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No messages yet"}),a.jsx("p",{className:"text-sm",children:"Start the conversation!"})]})})}),a.jsx("div",{className:"border-t bg-background p-4",children:a.jsx("div",{className:"max-w-3xl mx-auto",children:(0,a.jsxs)("div",{className:"flex items-end gap-2",children:[a.jsx(o.z,{size:"icon",variant:"ghost",className:"h-10 w-10 rounded-full shrink-0",children:a.jsx(tn,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{className:"flex-1 relative",children:[a.jsx(l.I,{placeholder:"Type a message...",value:r,onChange:e=>d(e.target.value),onKeyPress:e=>"Enter"===e.key&&!e.shiftKey&&_(),className:"pr-10 bg-muted/50 border-0 focus-visible:ring-1 rounded-full py-6"}),a.jsx(o.z,{size:"icon",variant:"ghost",className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8 rounded-full",children:a.jsx(ts,{className:"h-5 w-5"})})]}),a.jsx(o.z,{onClick:_,size:"icon",className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 shrink-0",disabled:!r.trim(),children:a.jsx(to,{className:"h-5 w-5"})})]})})})]}):a.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center bg-muted/10",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"h-20 w-20 mx-auto rounded-full bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-950 dark:to-purple-950 flex items-center justify-center",children:a.jsx(te.Z,{className:"h-10 w-10 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Your messages"}),a.jsx("p",{className:"text-muted-foreground text-sm max-w-sm mx-auto",children:"Send messages to people you've connected with on PharmX"})]})]})})]})}function tP(){return a.jsx(n.Suspense,{fallback:a.jsx("div",{className:"p-4",children:"Loading..."}),children:a.jsx(tR,{})})}},8443:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(1278).Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},6864:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(2772).createProxy)(String.raw`C:\Users\kasim\pharmx-social-1\frontend\app\app\chats\page.tsx#default`)},5718:(e,t,r)=>{"use strict";r.d(t,{Pc:()=>y,ck:()=>E,fC:()=>D});var a=r(5507),n=r(8762),s=r(1809),o=r(9932),i=r(4076),l=r(2900),d=r(7738),c=r(3122),u=r(9639),m=r(165),p=r(9899),f="rovingFocusGroup.onEntryFocus",x={bubbles:!1,cancelable:!0},h="RovingFocusGroup",[g,v,b]=(0,s.B)(h),[j,y]=(0,i.b)(h,[b]),[w,N]=j(h),k=a.forwardRef((e,t)=>(0,p.jsx)(g.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,p.jsx)(g.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,p.jsx)(M,{...e,ref:t})})}));k.displayName=h;var M=a.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:s,loop:i=!1,dir:l,currentTabStopId:g,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:j,onEntryFocus:y,preventScrollOnEntryFocus:N=!1,...k}=e,M=a.useRef(null),C=(0,o.e)(t,M),_=(0,m.gm)(l),[R,D]=(0,u.T)({prop:g,defaultProp:b??null,onChange:j,caller:h}),[E,S]=a.useState(!1),T=(0,c.W)(y),I=v(r),F=a.useRef(!1),[A,q]=a.useState(0);return a.useEffect(()=>{let e=M.current;if(e)return e.addEventListener(f,T),()=>e.removeEventListener(f,T)},[T]),(0,p.jsx)(w,{scope:r,orientation:s,dir:_,loop:i,currentTabStopId:R,onItemFocus:a.useCallback(e=>D(e),[D]),onItemShiftTab:a.useCallback(()=>S(!0),[]),onFocusableItemAdd:a.useCallback(()=>q(e=>e+1),[]),onFocusableItemRemove:a.useCallback(()=>q(e=>e-1),[]),children:(0,p.jsx)(d.WV.div,{tabIndex:E||0===A?-1:0,"data-orientation":s,...k,ref:C,style:{outline:"none",...e.style},onMouseDown:(0,n.Mj)(e.onMouseDown,()=>{F.current=!0}),onFocus:(0,n.Mj)(e.onFocus,e=>{let t=!F.current;if(e.target===e.currentTarget&&t&&!E){let t=new CustomEvent(f,x);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=I().filter(e=>e.focusable);P([e.find(e=>e.active),e.find(e=>e.id===R),...e].filter(Boolean).map(e=>e.ref.current),N)}}F.current=!1}),onBlur:(0,n.Mj)(e.onBlur,()=>S(!1))})})}),C="RovingFocusGroupItem",_=a.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:s=!0,active:o=!1,tabStopId:i,children:c,...u}=e,m=(0,l.M)(),f=i||m,x=N(C,r),h=x.currentTabStopId===f,b=v(r),{onFocusableItemAdd:j,onFocusableItemRemove:y,currentTabStopId:w}=x;return a.useEffect(()=>{if(s)return j(),()=>y()},[s,j,y]),(0,p.jsx)(g.ItemSlot,{scope:r,id:f,focusable:s,active:o,children:(0,p.jsx)(d.WV.span,{tabIndex:h?0:-1,"data-orientation":x.orientation,...u,ref:t,onMouseDown:(0,n.Mj)(e.onMouseDown,e=>{s?x.onItemFocus(f):e.preventDefault()}),onFocus:(0,n.Mj)(e.onFocus,()=>x.onItemFocus(f)),onKeyDown:(0,n.Mj)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){x.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let n=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(n))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)))return R[n]}(e,x.orientation,x.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=b().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();let a=r.indexOf(e.currentTarget);r=x.loop?function(e,t){return e.map((r,a)=>e[(t+a)%e.length])}(r,a+1):r.slice(a+1)}setTimeout(()=>P(r))}}),children:"function"==typeof c?c({isCurrentTabStop:h,hasTabStop:null!=w}):c})})});_.displayName=C;var R={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function P(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}var D=k,E=_}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[916,573,645,696,395,101,141],()=>r(406));module.exports=a})();