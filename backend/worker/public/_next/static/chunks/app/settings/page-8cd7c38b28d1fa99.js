(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{5434:function(e,t,s){Promise.resolve().then(s.bind(s,5485))},5485:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var n=s(7437),r=s(2265),a=s(1828),o=s(2369),i=s(3417),c=s(4766),l=s(2805),d=s(5368),u=s(5805),h=s(407),m=s(7226),f=s(1706),x=s(8906),p=s(9205);let g=(0,p.Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),y=(0,p.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var b=s(7648),v=s(9376),k=s(5153),N=s(7855);let j=[{id:"account",icon:o.Z,label:"Account",href:"/settings/account",badge:null},{id:"chats",icon:i.Z,label:"Chats",href:"/settings/chats",badge:"2"},{id:"notifications",icon:c.Z,label:"Notifications",href:"/settings/notifications",badge:null},{id:"appearance",icon:l.Z,label:"App Appearance",href:"/settings/appearance",badge:null},{id:"help",icon:d.Z,label:"Help",href:"/settings/help",badge:null},{id:"friends",icon:u.Z,label:"Invite Friends",href:"/settings/invite",badge:null}];function S(){let e=(0,v.useRouter)(),{toast:t}=(0,k.pm)(),[s,o]=(0,r.useState)(!1),[i,l]=(0,r.useState)(!0),[d,u]=(0,r.useState)(!0),p=async()=>{try{N.x.clearAuth(),t({title:"Signed out",description:"You have been successfully signed out"}),e.push("/login")}catch(e){console.error("Sign out error:",e),t({title:"Sign out failed",description:"There was an error signing out",variant:"destructive"})}};return(0,n.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,n.jsx)("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b z-10",children:(0,n.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,n.jsx)(b.default,{href:"/app/voice",className:"p-2 -ml-2",children:(0,n.jsx)(h.Z,{className:"h-5 w-5 rotate-180"})}),(0,n.jsx)("h1",{className:"text-lg font-semibold",children:"Profile"}),(0,n.jsx)("div",{className:"w-9"})," "]})}),(0,n.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,n.jsx)("div",{className:"px-4",children:(0,n.jsx)("div",{className:"space-y-1",children:j.map(e=>{let t=e.icon;return(0,n.jsxs)(b.default,{href:e.href,className:"flex items-center justify-between p-4 rounded-xl hover:bg-muted/50 transition-colors",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"p-2 bg-muted rounded-lg",children:(0,n.jsx)(t,{className:"h-5 w-5"})}),(0,n.jsx)("span",{className:"font-medium",children:e.label})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[e.badge&&(0,n.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-primary text-primary-foreground rounded-full",children:e.badge}),(0,n.jsx)(h.Z,{className:"h-5 w-5 text-muted-foreground"})]})]},e.id)})})}),(0,n.jsxs)("div",{className:"px-4 mt-6",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-3 px-4",children:"PREFERENCES"}),(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl hover:bg-muted/50",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"p-2 bg-muted rounded-lg",children:(0,n.jsx)(m.Z,{className:"h-5 w-5"})}),(0,n.jsx)("span",{className:"font-medium",children:"Dark Mode"})]}),(0,n.jsx)(a.r,{checked:s,onCheckedChange:o})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl hover:bg-muted/50",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"p-2 bg-muted rounded-lg",children:(0,n.jsx)(c.Z,{className:"h-5 w-5"})}),(0,n.jsx)("span",{className:"font-medium",children:"Push Notifications"})]}),(0,n.jsx)(a.r,{checked:i,onCheckedChange:l})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl hover:bg-muted/50",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"p-2 bg-muted rounded-lg",children:(0,n.jsx)(f.Z,{className:"h-5 w-5"})}),(0,n.jsx)("span",{className:"font-medium",children:"Sound Effects"})]}),(0,n.jsx)(a.r,{checked:d,onCheckedChange:u})]})]})]}),(0,n.jsxs)("div",{className:"px-4 mt-6 mb-8",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-3 px-4",children:"MORE"}),(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsxs)(b.default,{href:"/legal/privacy",className:"flex items-center justify-between p-4 rounded-xl hover:bg-muted/50 transition-colors",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"p-2 bg-muted rounded-lg",children:(0,n.jsx)(x.Z,{className:"h-5 w-5"})}),(0,n.jsx)("span",{className:"font-medium",children:"Privacy Policy"})]}),(0,n.jsx)(h.Z,{className:"h-5 w-5 text-muted-foreground"})]}),(0,n.jsxs)(b.default,{href:"/legal/terms",className:"flex items-center justify-between p-4 rounded-xl hover:bg-muted/50 transition-colors",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"p-2 bg-muted rounded-lg",children:(0,n.jsx)(g,{className:"h-5 w-5"})}),(0,n.jsx)("span",{className:"font-medium",children:"Terms of Service"})]}),(0,n.jsx)(h.Z,{className:"h-5 w-5 text-muted-foreground"})]}),(0,n.jsx)("button",{onClick:p,className:"w-full flex items-center justify-between p-4 rounded-xl hover:bg-destructive/10 transition-colors text-destructive",children:(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"p-2 bg-destructive/10 rounded-lg",children:(0,n.jsx)(y,{className:"h-5 w-5"})}),(0,n.jsx)("span",{className:"font-medium",children:"Sign Out"})]})})]})]}),(0,n.jsx)("div",{className:"text-center py-6 text-xs text-muted-foreground",children:"PharmX Voice Social v1.0.0"})]})]})}},1828:function(e,t,s){"use strict";s.d(t,{r:function(){return i}});var n=s(7437),r=s(2265),a=s(721),o=s(4508);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)(a.fC,{className:(0,o.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...r,ref:t,children:(0,n.jsx)(a.bU,{className:(0,o.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});i.displayName=a.fC.displayName},5153:function(e,t,s){"use strict";s.d(t,{pm:function(){return h}});var n=s(2265);let r=0,a=new Map,o=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?o(s):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],l={toasts:[]};function d(e){l=i(l,e),c.forEach(e=>{e(l)})}function u(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||n()}}}),{id:s,dismiss:n,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function h(){let[e,t]=n.useState(l);return n.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},7855:function(e,t,s){"use strict";s.d(t,{x:function(){return a}});let n="https://pharmx-api.kasimhussain333.workers.dev";class r{setAuth(e,t){console.log("[API Client] Setting auth - Token length:",e.length,"Session ID:",t),this.token=e,this.sessionId=t,localStorage.setItem("pharmx_token",e),localStorage.setItem("pharmx_session",t),console.log("[API Client] Stored auth in localStorage")}setToken(e){console.log("[API Client] Setting token only - Length:",e.length),this.token=e,localStorage.setItem("pharmx_token",e),console.log("[API Client] Stored token in localStorage")}getToken(){return this.token||(this.token=localStorage.getItem("pharmx_token")),this.token}getSessionId(){return this.sessionId||(this.sessionId=localStorage.getItem("pharmx_session")),this.sessionId}clearAuth(){this.token=null,this.sessionId=null,localStorage.removeItem("pharmx_token"),localStorage.removeItem("pharmx_session")}clearToken(){this.clearAuth()}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={...t.headers||{}};s["Content-Type"]||t.body instanceof FormData||(s["Content-Type"]="application/json"),this.token&&(s.Authorization="Bearer ".concat(this.token)),this.sessionId&&(s["X-Session-ID"]=this.sessionId);let r="".concat(n).concat(e);console.log("[API] ".concat(t.method||"GET"," ").concat(r)),console.log("[API] Headers:",s),t.body instanceof FormData&&console.log("[API] Sending FormData with keys:",Array.from(t.body.keys()));try{let n=await fetch(r,{...t,headers:s,credentials:"include",mode:"cors"});if(!n.ok){let t="Request failed with status ".concat(n.status),s=null;try{let r=await n.json();t=r.error||r.message||t,s=r.details,console.error("[API Error] ".concat(e,":"),r)}catch(e){t=n.statusText||t}401===n.status&&(console.log("[API] 401 Unauthorized - clearing auth and redirecting to login"),this.clearAuth(),window.location.href="/login");let r=Error(t);throw s&&(r.details=s),r}let a=await n.json();return console.log("[API Response] ".concat(e,":"),a),a}catch(e){if(e instanceof TypeError&&"Failed to fetch"===e.message)throw console.error("[API] Network error - Failed to fetch. Possible causes:"),console.error("  1. CORS blocking the request"),console.error("  2. Network connectivity issues"),console.error("  3. API server is down"),console.error("  4. SSL/TLS certificate issues"),console.error("  URL: ".concat(r)),Error("Network error: Unable to connect to the server. Please check your connection and try again.");throw e}}constructor(){this.token=null,this.sessionId=null,this.auth={logout:async()=>{await this.request("/auth/logout",{method:"POST"}),this.clearAuth()},verify:()=>this.request("/auth/verify")},this.profile={get:()=>this.request("/profile"),update:e=>this.request("/profile",{method:"PUT",body:JSON.stringify(e)}),uploadAvatar:async e=>{let t=new FormData;return t.append("file",e),this.request("/upload/avatar",{method:"POST",body:t})},create:e=>this.request("/profile",{method:"POST",body:JSON.stringify(e)}),delete:()=>this.request("/profile",{method:"DELETE"})},this.users={list:e=>{let t=new URLSearchParams(e).toString();return this.request("/users".concat(t?"?".concat(t):""))},get:e=>this.request("/users/".concat(e)),search:e=>this.request("/users/search?q=".concat(encodeURIComponent(e)))},this.chats={list:()=>this.request("/chats"),create:e=>this.request("/chats",{method:"POST",body:JSON.stringify({otherUserId:e})}),getMessages:(e,t)=>{let s=new URLSearchParams(t).toString();return this.request("/chats/".concat(e,"/messages").concat(s?"?".concat(s):""))},sendMessage:(e,t)=>this.request("/chats/".concat(e,"/messages"),{method:"POST",body:JSON.stringify({content:t})})},this.health=()=>fetch("".concat(n,"/health")).then(e=>e.json()),this.token=localStorage.getItem("pharmx_token"),this.sessionId=localStorage.getItem("pharmx_session")}}let a=new r},4508:function(e,t,s){"use strict";s.d(t,{cn:function(){return a}});var n=s(1994),r=s(3335);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,n.W)(t))}},5368:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7226:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},2805:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]])},8906:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},2369:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9376:function(e,t,s){"use strict";var n=s(5475);s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}}),s.o(n,"useSearchParams")&&s.d(t,{useSearchParams:function(){return n.useSearchParams}})}},function(e){e.O(0,[317,972,624,971,117,744],function(){return e(e.s=5434)}),_N_E=e.O()}]);