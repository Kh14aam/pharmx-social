(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[670],{6564:function(e,s,r){Promise.resolve().then(r.bind(r,1729))},1729:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return a}});var n=r(7437),l=r(492),t=r(2265);function a(){let{user:e,isLoading:s}=(0,l.a)(),[r,a]=(0,t.useState)({token:null,user:null,hasToken:!1,hasUser:!1});return((0,t.useEffect)(()=>{{let e=localStorage.getItem("pharmx_token"),s=localStorage.getItem("pharmx_user");a({token:e,user:s?JSON.parse(s):null,hasToken:!!e,hasUser:!!s})}},[]),s)?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Debug Information"}),(0,n.jsxs)("div",{className:"grid gap-6",children:[(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Session State"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Is Loading:"})," ",s?"Yes":"No"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Has User:"})," ",e?"Yes":"No"]}),e&&(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("h3",{className:"font-medium",children:"User Details:"}),(0,n.jsx)("pre",{className:"bg-gray-100 p-2 rounded text-sm overflow-auto",children:JSON.stringify(e,null,2)})]})]})]}),(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Local Storage"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Has Token:"})," ",r.hasToken?"Yes":"No"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Has User:"})," ",r.hasUser?"Yes":"No"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Token Preview:"})," ",r.token||"None"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"User Email:"})," ",r.user&&"object"==typeof r.user&&"email"in r.user?r.user.email:"None"]})]})]}),(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Environment"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"API URL:"})," ","https://pharmx-api.kasimhussain333.workers.dev"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Current URL:"})," ",window.location.href]})]})]}),(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Actions"}),(0,n.jsxs)("div",{className:"space-x-4",children:[(0,n.jsx)("button",{onClick:()=>{localStorage.removeItem("pharmx_token"),localStorage.removeItem("pharmx_user"),window.location.reload()},className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Clear Session"}),(0,n.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Refresh Page"})]})]}),(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Debug JSON"}),(0,n.jsx)("pre",{className:"bg-gray-100 p-4 rounded text-sm overflow-auto",children:JSON.stringify({session:{user:e,isLoading:s},localStorage:r,environment:{apiUrl:"https://pharmx-api.kasimhussain333.workers.dev",currentUrl:window.location.href}},null,2)})]})]})]})})}},492:function(e,s,r){"use strict";r.d(s,{SessionProvider:function(){return a},a:function(){return o}});var n=r(7437),l=r(2265);let t=(0,l.createContext)({user:null,isLoading:!0,error:null});function a(e){let{children:s}=e,[r,a]=(0,l.useState)(null),[o,i]=(0,l.useState)(!0),[c,d]=(0,l.useState)(null);return(0,l.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("pharmx_token"),s=localStorage.getItem("pharmx_user");if(e&&s)try{let e=JSON.parse(s);a(e)}catch(e){localStorage.removeItem("pharmx_token"),localStorage.removeItem("pharmx_user"),a(null)}else a(null)}catch(e){d(e),a(null)}finally{i(!1)}})()},[]),(0,n.jsx)(t.Provider,{value:{user:r,isLoading:o,error:c},children:s})}function o(){return(0,l.useContext)(t)}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6564)}),_N_E=e.O()}]);